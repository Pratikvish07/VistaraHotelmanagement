"use strict";(self.webpackChunkhotel_management_system=self.webpackChunkhotel_management_system||[]).push([[17],{17(e,s,t){t.r(s),t.d(s,{default:()=>A});var a=t(5043),r=t(1719),n=t(4282),l=t(8628),i=t(8602),c=t(3519),o=t(3814),d=t(1072),u=t(3216),m=t(303),h=t(6020),x=t(6667),j=t(579);const A=function(){const e=(0,u.Zp)(),[s,t]=(0,a.useState)(""),[A,g]=(0,a.useState)(""),[b,f]=(0,a.useState)(!1),[p,w]=(0,a.useState)(null),[y,v]=(0,a.useState)("");return(0,a.useEffect)(()=>{const s=(0,h.hg)(m.j2,async s=>{if(s){w(s);const t=(0,x.H9)(m.db,"users",s.uid),a=await(0,x.x7)(t);if(a.exists()){const s=a.data().role;e("manager"===s?"/dashboard":"/home")}}});return()=>s()},[e]),(0,j.jsx)(c.A,{fluid:!0,className:"min-vh-100 d-flex align-items-center bg-light",children:(0,j.jsx)(d.A,{className:"w-100 justify-content-center",children:(0,j.jsx)(i.A,{md:4,children:(0,j.jsx)(l.A,{className:"shadow",children:(0,j.jsxs)(l.A.Body,{children:[(0,j.jsx)("h4",{className:"text-center mb-3",children:b?"Create Account":"Login"}),y&&(0,j.jsx)(r.A,{variant:"danger",children:y}),(0,j.jsxs)(o.A,{onSubmit:async e=>{e.preventDefault(),v("");try{if(b){const e=await(0,h.eJ)(m.j2,s.trim(),A.trim());await(0,x.BN)((0,x.H9)(m.db,"users",e.user.uid),{email:s,role:"employee",createdAt:new Date})}else await(0,h.x9)(m.j2,s.trim(),A.trim())}catch(t){console.error(t),v(t.code)}},children:[(0,j.jsxs)(o.A.Group,{className:"mb-3",children:[(0,j.jsx)(o.A.Label,{children:"Email"}),(0,j.jsx)(o.A.Control,{type:"email",value:s,onChange:e=>t(e.target.value),required:!0})]}),(0,j.jsxs)(o.A.Group,{className:"mb-3",children:[(0,j.jsx)(o.A.Label,{children:"Password"}),(0,j.jsx)(o.A.Control,{type:"password",value:A,onChange:e=>g(e.target.value),required:!0})]}),(0,j.jsx)(n.A,{type:"submit",className:"w-100",children:b?"Register":"Login"})]})]})})})})})}}}]);
//# sourceMappingURL=17.5b6cd2b7.chunk.js.map