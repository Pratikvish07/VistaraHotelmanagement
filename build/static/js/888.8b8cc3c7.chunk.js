"use strict";(self.webpackChunkhotel_management_system=self.webpackChunkhotel_management_system||[]).push([[888],{4888(e,a,t){t.r(a),t.d(a,{default:()=>c});var s=t(2555),r=t(5043),n=t(303),d=t(6667),i=t(6020),l=t(579);const c=function(){const[e,a]=(0,r.useState)([]),[t,c]=(0,r.useState)(null),[o,u]=(0,r.useState)({name:"",aadhaar:"",mobile:"",email:""});return(0,r.useEffect)(()=>{const e=(0,i.hg)(n.j2,e=>{c(e)});return()=>e()},[]),(0,r.useEffect)(()=>{if(!t)return;(async()=>{const e=(0,d.P)((0,d.rJ)(n.db,"customers"),(0,d._M)("createdBy","==",t.uid)),r=await(0,d.GG)(e);a(r.docs.map(e=>(0,s.A)({id:e.id},e.data())))})()},[t]),(0,l.jsxs)("div",{style:{padding:"20px"},children:[(0,l.jsx)("h1",{children:"Customer Management"}),(0,l.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,l.jsx)("h3",{children:"Add Customer"}),(0,l.jsx)("input",{placeholder:"Name",value:o.name,onChange:e=>u((0,s.A)((0,s.A)({},o),{},{name:e.target.value}))}),(0,l.jsx)("input",{placeholder:"Aadhaar Number",value:o.aadhaar,onChange:e=>u((0,s.A)((0,s.A)({},o),{},{aadhaar:e.target.value}))}),(0,l.jsx)("input",{placeholder:"Mobile Number",value:o.mobile,onChange:e=>u((0,s.A)((0,s.A)({},o),{},{mobile:e.target.value}))}),(0,l.jsx)("input",{placeholder:"Email",value:o.email,onChange:e=>u((0,s.A)((0,s.A)({},o),{},{email:e.target.value}))}),(0,l.jsx)("br",{}),(0,l.jsx)("button",{onClick:async()=>{if(!t)return alert("Not authenticated");await(0,d.gS)((0,d.rJ)(n.db,"customers"),(0,s.A)((0,s.A)({},o),{},{createdBy:t.uid,createdAt:new Date}));const e=(0,d.P)((0,d.rJ)(n.db,"customers"),(0,d._M)("createdBy","==",t.uid)),r=await(0,d.GG)(e);a(r.docs.map(e=>(0,s.A)({id:e.id},e.data()))),u({name:"",aadhaar:"",mobile:"",email:""})},children:"Add Customer"})]}),(0,l.jsx)("h3",{children:"Registered Customers"}),0===e.length&&(0,l.jsx)("p",{children:"No customers found"}),e.map(e=>(0,l.jsxs)("div",{style:{border:"1px solid #ccc",padding:"10px",marginBottom:"10px"},children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Name:"})," ",e.name]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Aadhaar:"})," ",e.aadhaar]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Mobile:"})," ",e.mobile]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"Email:"})," ",e.email]})]},e.id))]})}}}]);
//# sourceMappingURL=888.8b8cc3c7.chunk.js.map